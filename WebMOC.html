<!DOCTYPE html>
<html>
<head>
<title>WebMOC</title>
 
<link rel="stylesheet" href="assets/css/jquery.mobile-1.3.2.min.css" />
<script type="text/javascript" src="assets/js/jquery.js"></script>
<script type="text/javascript" src="assets/js/jquery.mobile-1.3.2.min.js"></script>

</head>
 
<body>
This is Web MOC controller. 
<div data-role="controlgroup" data-type="horizontal">
    <a href="#" id="btnPrev" data-role="button">Prev</a>
    <a href="#" id="btnPlay" data-role="button">Play</a>
    <a href="#" id="btnNext" data-role="button">Next</a>
    <a href="#" id="btnPause" data-role="button">Pause</a>
    <a href="#" id="btnStop" data-role="button">Stop</a>
</div>
<script>
    //button action 
    $("#btnPrev").click(function(){
        $.getJSON("json", function(data){
            $.each(data, function(index, value){
                alert("index: " + index + " , value: "+ value);
            });
        });
        //alert("Prev Clicked !!!");
    });

    $("#btnPlay").click(function(){
        alert("Play Clicked !!!");
        /*
        It's not work, send JSON via jQuery.post().
        because the content-Type is not 'json'
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
        that's a problem on bottle.request.json.

        $.post(
        "json", 
        JSON.stringify({id:3, name:Ping}), 
        function(ret_data, st){
            alert("Server return : " + ret_data + " , status : " + st); 
        },
        'application/json'
        );
        */
    });

    $("#btnNext").click(function(){
        //alert("Next Clicked !!!");
        var post_data = {"id":3, "name":"Ping"};
        $.ajax
        ({
            type: 'POST',
            url: 'json',
            //data: JSON.stringify({id:1}),
            data:JSON.stringify(post_data),
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            success: function(data){
                $.each(data, function(index, value){
                    alert("index: " + index + " , value: "+ value);
                });
            }
        });
    });
    
    $("#btnPause").click(function(){
        alert("Pause Clicked !!!");
        $.ajax
        ({
            url: 'json',
            success: function(data){
                $.each(data, function(index, value){
                    alert("index: " + index + " , value: "+ value);
                });
            },
            /*
            if dataType not set, the Accept in request header is:
            'Accept': '* / *'
            dataType = json :
            'Accept': 'application/json, text/javascript, * /*; q=0.01'
            */
            dataType: 'json'
        });
    });
    $("#btnStop").click(function(){
        alert("Stop Clicked !!!");
    });
</script>
</body>
</html>
